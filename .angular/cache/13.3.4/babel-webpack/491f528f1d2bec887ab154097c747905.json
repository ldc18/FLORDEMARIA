{"ast":null,"code":"import { PLATFORM_ID } from '@angular/core';\nimport { BehaviorSubject, timer } from 'rxjs';\nimport { take } from 'rxjs/operators';\nimport { isPlatformBrowser } from '@angular/common';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common\";\nimport * as i2 from \"@angular/material/button\";\nconst _c0 = [\"slides\"];\nconst _c1 = [\"slideContainer\"];\n\nfunction CarouselComponent_button_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"button\", 6);\n    i0.ɵɵlistener(\"click\", function CarouselComponent_button_2_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r4 = i0.ɵɵnextContext();\n      return ctx_r4.onClickLeft();\n    });\n    i0.ɵɵelementStart(1, \"i\", 7);\n    i0.ɵɵtext(2, \"keyboard_arrow_left\");\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵclassProp(\"slider-arrow-absolute\", ctx_r1.absoluteArrows);\n  }\n}\n\nfunction CarouselComponent_button_7_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"button\", 8);\n    i0.ɵɵlistener(\"click\", function CarouselComponent_button_7_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r6 = i0.ɵɵnextContext();\n      return ctx_r6.onClickRight();\n    });\n    i0.ɵɵelementStart(1, \"i\", 9);\n    i0.ɵɵtext(2, \"keyboard_arrow_right\");\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵclassProp(\"slider-arrow-absolute\", ctx_r3.absoluteArrows);\n  }\n}\n\nconst _c2 = [\"*\"];\nexport let CarouselComponent = /*#__PURE__*/(() => {\n  class CarouselComponent {\n    constructor(platformId) {\n      this.platformId = platformId;\n      this.intervalForSlider = 10000;\n      this.withBackground = false;\n      this.absoluteArrows = false;\n      this.showArrows = true;\n      this.showArrowsSub$ = new BehaviorSubject(false);\n      this.dragging = false;\n    }\n\n    onClickLeft() {\n      const slidesElement = this.slides.nativeElement;\n      slidesElement.scrollLeft -= slidesElement.offsetWidth;\n\n      if (!slidesElement.scrollLeft) {\n        slidesElement.scrollLeft += slidesElement.offsetWidth * slidesElement.children.length - 1;\n      }\n    }\n\n    onClickRight() {\n      const slidesElement = this.slides.nativeElement;\n      slidesElement.scrollLeft += slidesElement.offsetWidth;\n\n      if ((slidesElement.scrollWidth - slidesElement.scrollLeft).toFixed() === slidesElement.offsetWidth.toFixed()) {\n        slidesElement.scrollLeft = 0;\n      }\n    }\n\n    ngAfterViewInit() {\n      if (isPlatformBrowser(this.platformId)) {\n        timer(0, 300).pipe(take(1)).subscribe(() => {\n          const slidesElement = this.slides.nativeElement;\n\n          if (slidesElement.children && slidesElement.children[0]) {\n            this.showArrowsSub$.next(slidesElement.offsetWidth < slidesElement.children[0].clientWidth * slidesElement.children.length);\n          } else {\n            this.showArrowsSub$.next(true);\n          }\n        });\n        this.autoSlideSub = timer(this.intervalForSlider, this.intervalForSlider).subscribe(() => {\n          this.onClickRight();\n        });\n      }\n    }\n\n    onDrag(e, type) {\n      this.dragging = type === 'down' ? true : type === 'up' ? false : this.dragging;\n\n      if (this.dragging && type === 'move') {\n        const slidesElement = this.slides.nativeElement;\n        slidesElement.scrollLeft += e.movementX * -50;\n      }\n    }\n\n    ngOnDestroy() {\n      if (this.autoSlideSub) {\n        this.autoSlideSub.unsubscribe();\n      }\n    }\n\n  }\n\n  CarouselComponent.ɵfac = function CarouselComponent_Factory(t) {\n    return new (t || CarouselComponent)(i0.ɵɵdirectiveInject(PLATFORM_ID));\n  };\n\n  CarouselComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: CarouselComponent,\n    selectors: [[\"app-carousel\"]],\n    viewQuery: function CarouselComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(_c0, 5);\n        i0.ɵɵviewQuery(_c1, 5);\n      }\n\n      if (rf & 2) {\n        let _t;\n\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.slides = _t.first);\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.slideContainer = _t.first);\n      }\n    },\n    inputs: {\n      intervalForSlider: \"intervalForSlider\",\n      withBackground: \"withBackground\",\n      absoluteArrows: \"absoluteArrows\",\n      showArrows: \"showArrows\"\n    },\n    ngContentSelectors: _c2,\n    decls: 9,\n    vars: 8,\n    consts: [[1, \"slider-container\"], [\"slideContainer\", \"\"], [\"class\", \"slider-arrow slider-arrow-left\", \"mat-raised-button\", \"\", 3, \"slider-arrow-absolute\", \"click\", 4, \"ngIf\"], [1, \"slides\", 3, \"mousedown\", \"mouseup\", \"mousemove\"], [\"slides\", \"\"], [\"class\", \"slider-arrow slider-arrow-right\", \"mat-raised-button\", \"\", 3, \"slider-arrow-absolute\", \"click\", 4, \"ngIf\"], [\"mat-raised-button\", \"\", 1, \"slider-arrow\", \"slider-arrow-left\", 3, \"click\"], [1, \"nav-cart-icon\", \"material-icons\", \"md-18\"], [\"mat-raised-button\", \"\", 1, \"slider-arrow\", \"slider-arrow-right\", 3, \"click\"], [1, \"nav-cart-icon\", \"material-icons\", \"md-24\"]],\n    template: function CarouselComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵprojectionDef();\n        i0.ɵɵelementStart(0, \"div\", 0, 1);\n        i0.ɵɵtemplate(2, CarouselComponent_button_2_Template, 3, 2, \"button\", 2);\n        i0.ɵɵpipe(3, \"async\");\n        i0.ɵɵelementStart(4, \"div\", 3, 4);\n        i0.ɵɵlistener(\"mousedown\", function CarouselComponent_Template_div_mousedown_4_listener($event) {\n          return ctx.onDrag($event, \"down\");\n        })(\"mouseup\", function CarouselComponent_Template_div_mouseup_4_listener($event) {\n          return ctx.onDrag($event, \"up\");\n        })(\"mousemove\", function CarouselComponent_Template_div_mousemove_4_listener($event) {\n          return ctx.onDrag($event, \"move\");\n        });\n        i0.ɵɵprojection(6);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(7, CarouselComponent_button_7_Template, 3, 2, \"button\", 5);\n        i0.ɵɵpipe(8, \"async\");\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵclassProp(\"slider-with-background\", ctx.withBackground);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(3, 4, ctx.showArrows && ctx.showArrowsSub$));\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(8, 6, ctx.showArrows && ctx.showArrowsSub$));\n      }\n    },\n    directives: [i1.NgIf, i2.MatButton],\n    pipes: [i1.AsyncPipe],\n    styles: [\"[_nghost-%COMP%]{width:100%;position:relative}[_nghost-%COMP%]   .slider-container[_ngcontent-%COMP%]{display:flex;position:relative;width:100%;align-items:center;border-radius:3px}[_nghost-%COMP%]   .slider-container.slider-with-background[_ngcontent-%COMP%]{background:#fdfdfd}[_nghost-%COMP%]     .mat-raised-button.slider-arrow{max-width:40px;min-width:40px;padding:10px;min-height:100px;z-index:1;background:none;box-shadow:none}[_nghost-%COMP%]     .mat-raised-button.slider-arrow-right{right:0}[_nghost-%COMP%]     .mat-raised-button.slider-arrow-absolute{position:absolute}[_nghost-%COMP%]   .slides[_ngcontent-%COMP%]{display:flex;overflow-x:scroll;scroll-behavior:smooth;width:100%;scrollbar-color:transparent transparent;margin-bottom:-15px}[_nghost-%COMP%]   .slides[_ngcontent-%COMP%]::-webkit-scrollbar{width:0;background:transparent}\"]\n  });\n  return CarouselComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}