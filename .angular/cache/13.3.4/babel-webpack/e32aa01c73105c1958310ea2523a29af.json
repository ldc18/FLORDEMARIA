{"ast":null,"code":"import { map } from 'rxjs/operators';\nimport * as fromRoot from '../../../store/reducers';\nimport * as actions from '../../../store/actions';\nimport { MatTabGroup } from '@angular/material/tabs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../../services/translate.service\";\nimport * as i2 from \"@ngrx/store\";\nimport * as i3 from \"@angular/material/button\";\nimport * as i4 from \"@angular/router\";\nimport * as i5 from \"@angular/material/tabs\";\nimport * as i6 from \"../all-products/all-products.component\";\nimport * as i7 from \"../products-edit/products-edit.component\";\nimport * as i8 from \"../categories-edit/categories-edit.component\";\nimport * as i9 from \"../pages-edit/pages-edit.component\";\nimport * as i10 from \"../theme-edit/theme-edit.component\";\nimport * as i11 from \"../config-edit/config-edit.component\";\nimport * as i12 from \"../translations-edit/translations-edit.component\";\nimport * as i13 from \"@angular/common\";\n\nfunction DashboardComponent_ng_template_17_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 8)(1, \"app-products-edit\", 18);\n    i0.ɵɵlistener(\"changeTab\", function DashboardComponent_ng_template_17_Template_app_products_edit_changeTab_1_listener($event) {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r8 = i0.ɵɵnextContext();\n      return ctx_r8.changeTab($event);\n    });\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"action\", \"add\");\n  }\n}\n\nfunction DashboardComponent_ng_template_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 8);\n    i0.ɵɵelement(1, \"app-products-edit\", 19);\n    i0.ɵɵpipe(2, \"async\");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"titles\", i0.ɵɵpipeBind1(2, 3, ctx_r2.allProductsTitles$))(\"productToEditTitleUrl\", ctx_r2.productToEditTitleUrl)(\"action\", \"edit\");\n  }\n}\n\nfunction DashboardComponent_ng_template_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 8);\n    i0.ɵɵelement(1, \"app-categories-edit\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction DashboardComponent_ng_template_23_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 8);\n    i0.ɵɵelement(1, \"app-pages-edit\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction DashboardComponent_ng_template_25_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 8);\n    i0.ɵɵelement(1, \"app-theme-edit\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction DashboardComponent_ng_template_27_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 8);\n    i0.ɵɵelement(1, \"app-config-edit\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction DashboardComponent_ng_template_29_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 8);\n    i0.ɵɵelement(1, \"app-translations-edit\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nconst _c0 = function (a0) {\n  return [a0];\n};\n\nexport let DashboardComponent = /*#__PURE__*/(() => {\n  class DashboardComponent {\n    constructor(translate, store) {\n      this.translate = translate;\n      this.store = store;\n      this.productAction = '';\n      this.component = 'dashboard';\n      this.lang$ = this.translate.getLang$();\n      this.currency$ = this.store.select(fromRoot.getCurrency);\n      this.allProducts$ = this.store.select(fromRoot.getAllProducts);\n      this.allProductsTitles$ = this.store.select(fromRoot.getAllProducts).pipe(map(products => products.map(product => product.titleUrl)));\n      this.getAllProducts();\n    }\n\n    changeAction(action) {\n      this.productAction = this.productAction === action ? '' : action;\n    }\n\n    getProducts() {\n      this.store.dispatch(new actions.GetAllProducts());\n    }\n\n    setToEditProduct(titleUrl) {\n      this.productToEditTitleUrl = titleUrl;\n      this.tabGroup.selectedIndex = 2;\n      this.store.dispatch(new actions.UpdatePosition({\n        dashboard: 0\n      }));\n    }\n\n    changeTab(tab) {\n      this.tabGroup.selectedIndex = tab;\n      this.store.dispatch(new actions.GetAllProducts());\n    }\n\n    ngOnDestroy() {\n      this.getProductsSub.unsubscribe();\n    }\n\n    getAllProducts() {\n      this.getProductsSub = this.lang$.subscribe(lang => {\n        this.store.dispatch(new actions.GetAllProducts());\n      });\n    }\n\n  }\n\n  DashboardComponent.ɵfac = function DashboardComponent_Factory(t) {\n    return new (t || DashboardComponent)(i0.ɵɵdirectiveInject(i1.TranslateService), i0.ɵɵdirectiveInject(i2.Store));\n  };\n\n  DashboardComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: DashboardComponent,\n    selectors: [[\"app-dashboard\"]],\n    viewQuery: function DashboardComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(MatTabGroup, 5);\n      }\n\n      if (rf & 2) {\n        let _t;\n\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.tabGroup = _t.first);\n      }\n    },\n    decls: 30,\n    vars: 14,\n    consts: [[1, \"main\"], [1, \"dashboard-container\"], [1, \"orders-menu\"], [1, \"dashboard-title\"], [\"mat-raised-button\", \"\", \"color\", \"primary\", \"aria-label\", \"Orders\", 1, \"orders-button\", 3, \"routerLink\"], [\"backgroundColor\", \"primary\", \"animationDuration\", \"0ms\"], [\"MatTabGroup\", \"\"], [\"label\", \"All products\"], [1, \"dashboard-tab-content\"], [3, \"allProducts\", \"lang\", \"currency\", \"getAllProducts\", \"editProduct\"], [\"label\", \"Add product\"], [\"matTabContent\", \"\"], [\"label\", \"Edit product\"], [\"label\", \"Categories\"], [\"label\", \"Pages\"], [\"label\", \"Theme\"], [\"label\", \"Config\"], [\"label\", \"Translations\"], [3, \"action\", \"changeTab\"], [3, \"titles\", \"productToEditTitleUrl\", \"action\"]],\n    template: function DashboardComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"h1\", 3);\n        i0.ɵɵtext(4, \"Dashboard\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(5, \"button\", 4);\n        i0.ɵɵpipe(6, \"async\");\n        i0.ɵɵtext(7, \" Ordenes \");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(8, \"mat-tab-group\", 5, 6)(10, \"mat-tab\", 7)(11, \"div\", 8)(12, \"app-all-products\", 9);\n        i0.ɵɵlistener(\"getAllProducts\", function DashboardComponent_Template_app_all_products_getAllProducts_12_listener() {\n          return ctx.getProducts();\n        })(\"editProduct\", function DashboardComponent_Template_app_all_products_editProduct_12_listener($event) {\n          return ctx.setToEditProduct($event);\n        });\n        i0.ɵɵpipe(13, \"async\");\n        i0.ɵɵpipe(14, \"async\");\n        i0.ɵɵpipe(15, \"async\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(16, \"mat-tab\", 10);\n        i0.ɵɵtemplate(17, DashboardComponent_ng_template_17_Template, 2, 1, \"ng-template\", 11);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(18, \"mat-tab\", 12);\n        i0.ɵɵtemplate(19, DashboardComponent_ng_template_19_Template, 3, 5, \"ng-template\", 11);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(20, \"mat-tab\", 13);\n        i0.ɵɵtemplate(21, DashboardComponent_ng_template_21_Template, 2, 0, \"ng-template\", 11);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(22, \"mat-tab\", 14);\n        i0.ɵɵtemplate(23, DashboardComponent_ng_template_23_Template, 2, 0, \"ng-template\", 11);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(24, \"mat-tab\", 15);\n        i0.ɵɵtemplate(25, DashboardComponent_ng_template_25_Template, 2, 0, \"ng-template\", 11);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(26, \"mat-tab\", 16);\n        i0.ɵɵtemplate(27, DashboardComponent_ng_template_27_Template, 2, 0, \"ng-template\", 11);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(28, \"mat-tab\", 17);\n        i0.ɵɵtemplate(29, DashboardComponent_ng_template_29_Template, 2, 0, \"ng-template\", 11);\n        i0.ɵɵelementEnd()()()();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(12, _c0, \"/\" + i0.ɵɵpipeBind1(6, 4, ctx.lang$) + \"/dashboard/orders\"));\n        i0.ɵɵadvance(7);\n        i0.ɵɵproperty(\"allProducts\", i0.ɵɵpipeBind1(13, 6, ctx.allProducts$))(\"lang\", i0.ɵɵpipeBind1(14, 8, ctx.lang$))(\"currency\", i0.ɵɵpipeBind1(15, 10, ctx.currency$));\n      }\n    },\n    directives: [i3.MatButton, i4.RouterLink, i5.MatTabGroup, i5.MatTab, i6.AllProductsComponent, i5.MatTabContent, i7.ProductsEditComponent, i8.CategoriesEditComponent, i9.PagesEditComponent, i10.ThemeEditComponent, i11.ConfigEditComponent, i12.TranslationsEditComponent],\n    pipes: [i13.AsyncPipe],\n    styles: [\"[_nghost-%COMP%]{display:flex;min-height:100vh;flex-direction:column}[_nghost-%COMP%]   .orders-menu[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}[_nghost-%COMP%]   .orders-button[_ngcontent-%COMP%]{margin:10px}[_nghost-%COMP%]   .dashboard-title[_ngcontent-%COMP%]{margin:0;color:var(--primary-color);padding:0 5px;position:relative}[_nghost-%COMP%]   .dashboard-tab-content[_ngcontent-%COMP%]{padding:15px;border:1px solid rgba(0,0,0,.1);background:#fff;max-width:1000px;margin:auto}\"]\n  });\n  return DashboardComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}